---
parent: NuGet Configuration
ancestor: Rules
permalink: /rules/Proj0305
---

# Proj0305: Last source map should map all packages
Mappings are evaluated from top to bottom, the first matching mapping is used. 
To ensure all packages can be served by at least one package, the last
`<packageSource>` should (only) contain a match all (`<package pattern="*" />`).

## Non-compliant
``` xml
<configuration>

  <packageSources>
    <clear />
    <add key="Internal-packages" value="https://pkgs.dev.azure.com/company/_packaging/Components/nuget/v3/index.json" />
    <add key="nuget.org" value="https://api.nuget.org/v3/index.json" />
  </packageSources>

  <packageSourceMapping>
    <packageSource key="Internal-packages">
      <package pattern="Qowaiv.CodeGeneration" />
      <package pattern="Company.*" />
    </packageSource>
    <packageSource key="nuget.org">
      <package pattern="Qowaiv.Validation" />
      <package pattern="*" />
    </packageSource>
  </packageSourceMapping>

</configuration>
```

## Compliant
``` xml
<configuration>

  <packageSources>
    <clear />
    <add key="Internal-packages" value="https://pkgs.dev.azure.com/company/_packaging/Components/nuget/v3/index.json" />
    <add key="nuget.org" value="https://api.nuget.org/v3/index.json" />
  </packageSources>

  <packageSourceMapping>
    <packageSource key="Internal-packages">
      <package pattern="Qowaiv.CodeGeneration" />
      <package pattern="Company.*" />
    </packageSource>
    <packageSource key="nuget.org">
      <package pattern="*" />
    </packageSource>
  </packageSourceMapping>

</configuration>
```
